<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="js/jquery-ui-1.12.1/jquery-ui.css" />
    <link href="css/file.css" rel="stylesheet" />
</head>

<body>
    <div id="outer">
        <div id="title">
            <label>對保資料查詢</label>
        </div>
        <div id="uidDiv" class="inner">
            <label>員編: </label>
            <input type="text" id="uid" oninput="value=value.match(/-?[0-9]*\.?[0-9]*/)"/>
        </div>
        <div class="inner" style="margin-left: 25%;">
            <label id="dateLabel">日期區間: </label>
            <input type="text" id="minDate" readonly="readonly"/>&nbsp;&nbsp;~&nbsp;&nbsp;<input type="text" id="maxDate" readonly="readonly"/>
        </div>
        <div class="inner">
            <button type="button" onclick="searchFile()">查詢</button>
        </div>
    </div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/jquery-ui-1.12.1/jquery-ui.js"></script>
    <script src="js/main.js"></script>
    <script src="js/HttpUtils.js"></script>
    <script>

        $(function () {
            if (localStorage.getItem("userId") == null) {
                location.href = "login.html";
            }
            localStorage.removeItem("selectedUser");
            localStorage.removeItem("selectedDate");
            localStorage.removeItem("fileData");
            $("#minDate").datepicker({ dateFormat: "yy-mm-dd" });
            $("#maxDate").datepicker({ dateFormat: "yy-mm-dd" });
            var userId = localStorage.getItem("userId");
            var manager = localStorage.getItem("manager");
            var appointed = localStorage.getItem("appointed");
            var workType = localStorage.getItem("workType");
            if ((manager != "Y" && appointed != "Y") && workType != 'ALL') {
                $("#uidDiv").hide();
                $("#uid").val(userId);
            }
        })


    </script>
</body>

</html>
